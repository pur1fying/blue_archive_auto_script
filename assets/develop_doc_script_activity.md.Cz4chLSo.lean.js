import{_ as i,c as t,a2 as a,o}from"./chunks/framework.By2iWbs8.js";const u=JSON.parse('{"title":"活动 (Activity)","description":"","frontmatter":{},"headers":[],"relativePath":"develop_doc/script/activity.md","filePath":"develop_doc/script/activity.md","lastUpdated":1743867415000}'),e={name:"develop_doc/script/activity.md"};function l(n,s,r,c,d,h){return o(),t("div",null,s[0]||(s[0]=[a('<h1 id="活动-activity" tabindex="-1">活动 (Activity) <a class="header-anchor" href="#活动-activity" aria-label="Permalink to &quot;活动 (Activity)&quot;">​</a></h1><h2 id="简介-introduction" tabindex="-1">简介 (Introduction) <a class="header-anchor" href="#简介-introduction" aria-label="Permalink to &quot;简介 (Introduction)&quot;">​</a></h2><p><strong>BAAS</strong>的活动模块代码基于以下事实</p><ol><li>各服务器进度不同, 活动不同</li><li>活动会复刻, 复刻活动和原始活动内容基本完全相同</li><li>每期活动玩家需要推故事(Story), 任务(Mission), 挑战(Task), 扫荡关卡获取每期活动专属货币兑换奖励</li><li>不同活动的UI布局不同, 导致点击位置不同</li><li>活动可能会附带以下几个玩法, 相同玩法的UI布局和逻辑基本相同 <ul><li>翻牌</li><li>抽奖</li><li>新年活动抽签</li><li>运动会活动摇骰子</li></ul></li><li>推故事(Story), 任务(Mission), 挑战(Task)时都可能有走格子</li><li>挑战关卡非走格子关卡auto无法完成, 需要手操</li></ol><p>根据以上规律, 我们可以发现活动有很大相似性, 根据以下活动配置我们可以驱动<strong>BAAS</strong>完成活动</p><h2 id="活动配置" tabindex="-1">活动配置 <a class="header-anchor" href="#活动配置" aria-label="Permalink to &quot;活动配置&quot;">​</a></h2><p>你可以根据以下步骤完善活动配置</p><ol><li>确定活动名<code>core/config/default_config.py</code>中, <code>&quot;current_game_activity&quot;</code>字段</li><li>活动配置的<code>json</code>文件存放在<code>src/explore_task_data/activities</code>下, <strong>文件名必须与活动名相同</strong></li></ol><h3 id="total-story" tabindex="-1"><code>&quot;total_story&quot;</code> <a class="header-anchor" href="#total-story" aria-label="Permalink to &quot;`&quot;total_story&quot;`&quot;">​</a></h3><ul><li><strong>type</strong>: <code>int</code></li><li><strong>description</strong>: 活动故事总数</li><li><strong>note</strong>: 如果有走格子, 需要在<code>&quot;story&quot; + str(i)</code>添加走格子数据</li></ul><h3 id="mission" tabindex="-1"><code>&quot;mission&quot;</code> <a class="header-anchor" href="#mission" aria-label="Permalink to &quot;`&quot;mission&quot;`&quot;">​</a></h3><ul><li><strong>type</strong>: <code>list</code></li><li><strong>description</strong>: 活动任务属性列表</li><li><strong>note</strong>: 如果有走格子, 需要在<code>&quot;mission&quot; + str(i)</code>添加走格子数据</li></ul><h3 id="sweep-ap-cost-mission" tabindex="-1"><code>&quot;sweep_ap_cost_mission&quot;</code> <a class="header-anchor" href="#sweep-ap-cost-mission" aria-label="Permalink to &quot;`&quot;sweep_ap_cost_mission&quot;`&quot;">​</a></h3><ul><li><strong>type</strong>: <code>list</code></li><li><strong>description</strong>: 活动扫荡关卡消耗体力列表</li></ul><h3 id="grid-tasks-challenge" tabindex="-1"><code>&quot;grid_tasks_challenge&quot;</code> <a class="header-anchor" href="#grid-tasks-challenge" aria-label="Permalink to &quot;`&quot;grid_tasks_challenge&quot;`&quot;">​</a></h3><ul><li><strong>type</strong>: <code>list</code></li><li><strong>description</strong>: 活动挑战走格子需完成任务列表</li><li><strong>example</strong>:</li></ul><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>\n<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">   &quot;grid_tasks_challenge&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">   [</span></span>\n<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">      &quot;challenge2_sss&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>\n<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">      &quot;challenge2_task&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>\n<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">      &quot;challenge4_sss&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>\n<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">      &quot;challenge4_task&quot;</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">   ]</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>表示共需完成四次走格子, 分别为 <code>挑战2三星</code>, <code>挑战2成就任务</code>, <code>挑战4三星</code>, <code>挑战4成就任务</code></p><p>同时需要在活动配置中添加这四次走格子的推图数据</p><h3 id="has-draw-card" tabindex="-1"><code>&quot;has_draw_card&quot;</code> <a class="header-anchor" href="#has-draw-card" aria-label="Permalink to &quot;`&quot;has_draw_card&quot;`&quot;">​</a></h3><ul><li><strong>type</strong>: <code>bool</code></li><li><strong>description</strong>: 是否有翻牌玩法</li></ul><h3 id="has-exchange-reward" tabindex="-1"><code>&quot;has_exchange_reward&quot;</code> <a class="header-anchor" href="#has-exchange-reward" aria-label="Permalink to &quot;`&quot;has_exchange_reward&quot;`&quot;">​</a></h3><ul><li><strong>type</strong>: <code>bool</code></li><li><strong>description</strong>: 是否有抽奖玩法</li></ul>',23)]))}const g=i(e,[["render",l]]);export{u as __pageData,g as default};
