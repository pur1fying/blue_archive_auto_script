import{_ as s,c as a,o as t,ah as l}from"./chunks/framework.DaDXF32t.js";const e="/assets/enter1.DxelUZuq.png",n="/assets/enter2.DmJA_ChG.png",h="/assets/enter3.DWGjdY4y.png",y=JSON.parse('{"title":"活动 (Activity)","description":"","frontmatter":{},"headers":[],"relativePath":"develop_doc/script/activity.md","filePath":"develop_doc/script/activity.md","lastUpdated":1757509302000}'),o={name:"develop_doc/script/activity.md"};function r(k,i,p,d,c,g){return t(),a("div",null,i[0]||(i[0]=[l(`<h1 id="活动-activity" tabindex="-1">活动 (Activity) <a class="header-anchor" href="#活动-activity" aria-label="Permalink to “活动 (Activity)”">​</a></h1><h2 id="简介-introduction" tabindex="-1">简介 (Introduction) <a class="header-anchor" href="#简介-introduction" aria-label="Permalink to “简介 (Introduction)”">​</a></h2><p><strong>BAAS</strong>的活动模块代码基于以下事实</p><ol><li>各服务器进度不同, 活动不同</li><li>活动会复刻, 复刻活动和原始活动内容基本完全相同</li><li>每期活动玩家需要推故事(Story), 任务(Mission), 挑战(Task), 扫荡关卡获取每期活动专属货币兑换奖励</li><li>不同活动的UI布局不同, 导致点击位置不同</li><li>活动可能会附带以下几个玩法, 相同玩法的UI布局和逻辑基本相同 <ul><li>翻牌</li><li>抽奖</li><li>新年活动抽签</li><li>运动会活动摇骰子</li></ul></li><li>推故事(Story), 任务(Mission), 挑战(Task)时都可能有走格子</li><li>挑战关卡非走格子关卡auto无法完成, 需要手操</li></ol><p>根据以上规律, 我们可以发现活动有很大相似性, 根据以下活动配置我们可以驱动<strong>BAAS</strong>完成活动</p><h2 id="活动配置" tabindex="-1">活动配置 <a class="header-anchor" href="#活动配置" aria-label="Permalink to “活动配置”">​</a></h2><p>你可以根据以下步骤完善活动配置</p><ol><li>确定活动名 <ul><li>修改<code>core/config/default_config.py</code>中, <code>&quot;current_game_activity&quot;</code>字段为当期活动名 <ul><li>推荐使用的活动名: <ol><li>直接使用日期<code>&quot;JP_2025_04_17&quot;</code></li><li>活动英文名<code>&quot;AbydosResortRestorationCommittee&quot;</code>, 你可以在<a href="https://bluearchive.fandom.com/wiki/Event/Event_List" target="_blank" rel="noreferrer">BlueArchive Wiki</a>上查询活动英文名</li></ol></li></ul></li></ul></li><li>活动配置以<code>json</code>文件存放在<code>src/explore_task_data/activities</code>下, <strong>文件名必须与活动名相同</strong></li><li>截取进入活动关卡需要的图像 <ul><li>步骤: <ol><li>假设你的活动名为<div class="language-python"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">activity_name </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;AbydosResortRestorationCommittee&quot;</span></span></code></pre></div></li><li>创建以下文件夹<div class="language-python"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">f</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;src/images/</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">{</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">server</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">}</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">/activity/</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">{</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">activity_name</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">}</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span></span></code></pre></div></li><li>创建以下文件<div class="language-python"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">f</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;src/images/</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">{</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">server</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">}</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">/x_y_range/activity/</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">{</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">activity_name</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">}</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">.py&quot;</span></span></code></pre></div><ul><li>内容为<div class="language-python"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">prefix </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;activity&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">path </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;activity/AbydosResortRestorationCommittee&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">x_y_range </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &#39;enter1&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: (</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1180</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">180</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1202</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">200</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">),</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &#39;enter2&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: (</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">96</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">140</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">116</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">150</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">),</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &#39;enter3&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: (</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">176</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">519</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">265</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">564</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div></li></ul></li><li>截取enter1 / 2 / 3 图像并放入 2. 创建的文件夹中, 分别对应以下区域模板 <ul><li>enter1 <img src="`+e+'" alt="enter1.png"></li><li>enter2 <img src="'+n+'" alt="enter2.png"></li><li>enter3 <img src="'+h+`" alt="enter3.png"></li></ul></li></ol></li></ul></li></ol><p><strong>note</strong>:</p><ol><li>国际服需要同时更新英文, 繁体中文, 韩文的图像</li><li>活动结束后将<code>core/config/default_config.py</code>中, <code>&quot;current_game_activity&quot;</code>字段设置为<code>null</code></li></ol><h2 id="配置文件字段含义" tabindex="-1">配置文件字段含义 <a class="header-anchor" href="#配置文件字段含义" aria-label="Permalink to “配置文件字段含义”">​</a></h2><h3 id="total-story" tabindex="-1"><code>&quot;total_story&quot;</code> <a class="header-anchor" href="#total-story" aria-label="Permalink to “&quot;total_story&quot;”">​</a></h3><ul><li><strong>type</strong>: <code>int</code></li><li><strong>description</strong>: 活动故事总数</li><li><strong>note</strong>: 如果有走格子, 需要在<code>&quot;story&quot; + str(i)</code>添加走格子数据</li></ul><h3 id="mission" tabindex="-1"><code>&quot;mission&quot;</code> <a class="header-anchor" href="#mission" aria-label="Permalink to “&quot;mission&quot;”">​</a></h3><ul><li><strong>type</strong>: <code>list</code></li><li><strong>description</strong>: 活动任务属性列表</li><li><strong>note</strong>: 如果有走格子, 需要在<code>&quot;mission&quot; + str(i)</code>添加走格子数据</li></ul><h3 id="sweep-ap-cost-mission" tabindex="-1"><code>&quot;sweep_ap_cost_mission&quot;</code> <a class="header-anchor" href="#sweep-ap-cost-mission" aria-label="Permalink to “&quot;sweep_ap_cost_mission&quot;”">​</a></h3><ul><li><strong>type</strong>: <code>list</code></li><li><strong>description</strong>: 活动扫荡关卡消耗体力列表</li></ul><h3 id="grid-tasks-challenge" tabindex="-1"><code>&quot;grid_tasks_challenge&quot;</code> <a class="header-anchor" href="#grid-tasks-challenge" aria-label="Permalink to “&quot;grid_tasks_challenge&quot;”">​</a></h3><ul><li><strong>type</strong>: <code>list</code></li><li><strong>description</strong>: 活动挑战走格子需完成任务列表</li><li><strong>example</strong>:</li></ul><div class="language-json"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">   &quot;grid_tasks_challenge&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">   [</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">      &quot;challenge2_sss&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">      &quot;challenge2_task&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">      &quot;challenge4_sss&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">      &quot;challenge4_task&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">   ]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>表示共需完成四次走格子, 分别为 <code>挑战2三星</code>, <code>挑战2成就任务</code>, <code>挑战4三星</code>, <code>挑战4成就任务</code></p><p>同时需要在活动配置中添加这四次走格子的推图数据</p><h3 id="has-draw-card" tabindex="-1"><code>&quot;has_draw_card&quot;</code> <a class="header-anchor" href="#has-draw-card" aria-label="Permalink to “&quot;has_draw_card&quot;”">​</a></h3><ul><li><strong>type</strong>: <code>bool</code></li><li><strong>description</strong>: 是否有翻牌玩法</li></ul><h3 id="has-exchange-reward" tabindex="-1"><code>&quot;has_exchange_reward&quot;</code> <a class="header-anchor" href="#has-exchange-reward" aria-label="Permalink to “&quot;has_exchange_reward&quot;”">​</a></h3><ul><li><strong>type</strong>: <code>bool</code></li><li><strong>description</strong>: 是否有抽奖玩法</li></ul>`,26)]))}const u=s(o,[["render",r]]);export{y as __pageData,u as default};
